<div class="main-content">
  <div class="background"></div>
  <div *ngIf="isLoading" class="loader">
    <img src="/assets/team-up-it-logo.png">
  </div>
</div>

<mat-toolbar>
  <img class="logo" src="assets/team-up-it-logo.png" />

  <ng-container *ngIf="!isMobile">
    <mat-form-field class="large" appearance="fill" subscriptSizing="dynamic">
      <mat-label>Zoek</mat-label>
      <input [formControl]="searchFormControl" matInput>
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  
    <span class="spacer"></span>
  
    <mat-form-field appearance="fill" subscriptSizing="dynamic" (click)="picker.open()">
      <mat-label>Vanaf</mat-label>
      <input matInput [min]="today" [matDatepicker]="picker" [formControl]="selectedFromDateFormControl" readonly >
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </ng-container>
  

  <app-category-select-input *ngIf="categories !== undefined" class="large" [categories]="categories" [control]="selectedCategoriesFormControl"></app-category-select-input>

</mat-toolbar>

<div #listView id="listView" class="list-view" *ngIf="eventCalendar" [class.hidden]="isLoading">
  <ng-container *ngFor="let year of eventCalendar | keyvalue">
    <div *ngIf="!isMobile" class="divider-vertical">
      <div class="center-element"><div class="year">{{ year.key }}</div></div>
    </div>
    <ng-container *ngFor="let month of year.value | keyvalue; let i = index">
      <div class="app-row" *ngFor="let event of month.value; let i = index">
        <div *ngIf="i === 0" class="divider-horizontal">
          {{ event.start | date : 'MMMM' : '' : 'nl' }}
        </div>
        <app-team-up-it-event
          [event]="event"
          [isOpened]="event === highlightedEvent"
          (opened)="highlightedEvent = event"
          (closed)="highlightedEvent = event === highlightedEvent ? undefined : highlightedEvent">
        </app-team-up-it-event>
      </div>
    </ng-container>
  </ng-container>
</div>


